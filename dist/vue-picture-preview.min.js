var vuePicturePreview=function(){"use strict";function e(e,n,i,t,r,a,A,o,s,l){"boolean"!=typeof A&&(s=o,o=A,A=!1);var v="function"==typeof i?i.options:i;e&&e.render&&(v.render=e.render,v.staticRenderFns=e.staticRenderFns,v._compiled=!0,r&&(v.functional=!0)),t&&(v._scopeId=t);var p;if(a?(p=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},v._ssrRegister=p):n&&(p=A?function(){n.call(this,l(this.$root.$options.shadowRoot))}:function(e){n.call(this,o(e))}),p)if(v.functional){var d=v.render;v.render=function(e,n){return p.call(n),d(e,n)}}else{var c=v.beforeCreate;v.beforeCreate=c?[].concat(c,p):[p]}return i}function n(e){return function(e,n){return i(e,n)}}function i(e,n){var i=a?n.media||"default":e,t=o[i]||(o[i]={ids:new Set,styles:[]});if(!t.ids.has(e)){t.ids.add(e);var r=n.source;if(n.map&&(r+="\n/*# sourceURL="+n.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),t.element||(t.element=document.createElement("style"),t.element.type="text/css",n.media&&t.element.setAttribute("media",n.media),A.appendChild(t.element)),"styleSheet"in t.element)t.styles.push(r),t.element.styleSheet.cssText=t.styles.filter(Boolean).join("\n");else{var s=t.ids.size-1,l=document.createTextNode(r),v=t.element.childNodes;v[s]&&t.element.removeChild(v[s]),v.length?t.element.insertBefore(l,v[s]):t.element.appendChild(l)}}}var t={name:"Preview",computed:{preview:function(){return window.LOGIC_EVENT_BUS.LOGIC_PREVIEW}},methods:{leave:function(e){this.preview.show&&0!==e.target.className.indexOf("lg-preview-nav-arrow")&&this.close()},close:function(){this.preview.show=!1},preAction:function(){this.preview.loading=!0;var e=this.preview.list.indexOf(this.preview.current);if(0===e)return void(this.preview.loading=!1);e--,this.preview.current=this.preview.list[e];var n=new window.Image;n.src=this.preview.current.src,n.onload=function(){setTimeout(function(){LOGIC_EVENT_BUS.LOGIC_PREVIEW.loading=!1},500)}},nextAction:function(){this.preview.loading=!0;var e=this.preview.list.indexOf(this.preview.current);if(e===this.preview.list.length-1)return void(this.preview.loading=!1);e++,this.preview.current=this.preview.list[e];var n=new window.Image;n.src=this.preview.current.src,n.onload=function(){setTimeout(function(){LOGIC_EVENT_BUS.LOGIC_PREVIEW.loading=!1},500)}}}},r=e,a="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),A=document.head||document.getElementsByTagName("head")[0],o={},s=n,l=t,v=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.preview.show,expression:"preview.show"}],staticClass:"lg-preview-wrapper",on:{click:e.leave,touchmove:function(e){e.preventDefault()}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.preview.loading,expression:"preview.loading"}],staticClass:"lg-preview-loading"},[i("div")]),e._v(" "),e.preview.current.src?i("img",{directives:[{name:"show",rawName:"v-show",value:!e.preview.loading,expression:"!preview.loading"}],staticClass:"lg-preview-img",attrs:{src:e.preview.current.src,alt:e.preview.current.title}}):e._e(),e._v(" "),e.preview.isTitleEnable&&e.preview.current.title?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.preview.loading,expression:"!preview.loading"}],staticClass:"lg-preview-title"},[e._v("\n            "+e._s(e.preview.current.title)+"\n        ")]):e._e(),e._v(" "),e.preview.isHorizontalNavEnable?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.preview.loading,expression:"!preview.loading"}],staticClass:"lg-preview-nav-left"},[i("span",{staticClass:"lg-preview-nav-arrow",on:{click:function(n){return n.stopPropagation(),e.preAction(n)}}})]):e._e(),e._v(" "),e.preview.isHorizontalNavEnable?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.preview.loading,expression:"!preview.loading"}],staticClass:"lg-preview-nav-right"},[i("span",{staticClass:"lg-preview-nav-arrow",on:{click:function(n){return n.stopPropagation(),e.nextAction(n)}}})]):e._e()])])},p=[];v._withStripped=!0;var d=function(e){e&&e("data-v-f1c51966_0",{source:"\n.fade-enter-active[data-v-f1c51966], .fade-leave-active[data-v-f1c51966] {\n    transition: opacity .5s\n}\n.fade-enter[data-v-f1c51966], .fade-leave-active[data-v-f1c51966] {\n    opacity: 0\n}\n.lg-preview-wrapper[data-v-f1c51966] {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    box-sizing: border-box;\n    background: rgba(0, 0, 0, 0.9);\n    z-index: 10000;\n}\n.lg-preview-loading[data-v-f1c51966] {\n    position: absolute;\n    width: 30px;\n    height: 35px;\n    top: 50%;\n    left: 50%;\n    margin-top: -17.5px;\n    margin-left: -15px;\n}\n.lg-preview-loading > div[data-v-f1c51966] {\n    display: inline-block;\n    height: 25px;\n    width: 25px;\n    background: transparent;\n    border-radius: 100%;\n    border: 2px solid #fff;\n    border-bottom-color: transparent;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n    -webkit-animation: rotate-data-v-f1c51966 0.75s 0s linear infinite;\n    animation: rotate-data-v-f1c51966 0.75s 0s linear infinite;\n}\n@keyframes rotate-data-v-f1c51966 {\n0% {\n        -webkit-transform: rotate(0deg) scale(1);\n        transform: rotate(0deg) scale(1);\n}\n50% {\n        -webkit-transform: rotate(180deg) scale(0.6);\n        transform: rotate(180deg) scale(0.6);\n}\n100% {\n        -webkit-transform: rotate(360deg) scale(1);\n        transform: rotate(360deg) scale(1);\n}\n}\n.lg-preview-img[data-v-f1c51966] {\n    max-width: 100%;\n    max-height: 100%;\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n}\n.lg-preview-nav-arrow[data-v-f1c51966] {\n    position: absolute;\n    top: 50%;\n    margin-top: -15px;\n    background: rgba(0, 0, 0, 0);\n    line-height: 40px;\n    width: 20px;\n    height: 20px;\n    border-top: 2px solid #fff;\n    border-left: 2px solid #fff;\n}\n.lg-preview-nav-left[data-v-f1c51966],\n.lg-preview-nav-right[data-v-f1c51966] {\n    position: absolute;\n    height: 100%;\n    margin: 0 5px;\n    width: 200px;\n    top: 0;\n    color: #fff;\n    transition: opacity .2s;\n}\n.lg-preview-nav-left[data-v-f1c51966] {\n    left: 0;\n}\n.lg-preview-nav-left .lg-preview-nav-arrow[data-v-f1c51966] {\n    left: 0;\n    margin-left: 40px;\n    transform: rotate(-45deg);\n}\n.lg-preview-nav-right[data-v-f1c51966] {\n    right: 0;\n}\n.lg-preview-nav-right .lg-preview-nav-arrow[data-v-f1c51966] {\n    right: 0;\n    margin-right: 40px;\n    transform: rotate(135deg);\n}\n.lg-preview-title[data-v-f1c51966] {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    text-align: center;\n    width: 100%;\n    color: #fff;\n    background: rgba(0, 0, 0, .5);\n    box-sizing: border-box;\n    font-size: 16px;\n    height: 40px;\n    line-height: 40px;\n}\n@media all and (max-width: 768px) {\n.lg-preview-nav-left[data-v-f1c51966],\n    .lg-preview-nav-right[data-v-f1c51966] {\n        width: 100px;\n}\n.lg-preview-nav-left .lg-preview-nav-arrow[data-v-f1c51966] {\n        margin-left: 20px;\n}\n.lg-preview-nav-right .lg-preview-nav-arrow[data-v-f1c51966] {\n        margin-right: 20px;\n}\n}\n",map:{version:3,sources:["/Users/xlogic/code/vue-picture-preview/vue-picture-preview.vue"],names:[],mappings:";AAgFA;IACA;AACA;AAEA;IACA;AACA;AAEA;IACA,eAAA;IACA,MAAA;IACA,OAAA;IACA,WAAA;IACA,YAAA;IACA,kBAAA;IACA,sBAAA;IACA,8BAAA;IACA,cAAA;AACA;AAEA;IACA,kBAAA;IACA,WAAA;IACA,YAAA;IACA,QAAA;IACA,SAAA;IACA,mBAAA;IACA,kBAAA;AACA;AAEA;IACA,qBAAA;IACA,YAAA;IACA,WAAA;IACA,uBAAA;IACA,mBAAA;IACA,sBAAA;IACA,gCAAA;IACA,iCAAA;IACA,yBAAA;IACA,kEAAA;IACA,0DAAA;AACA;AAEA;AACA;QACA,wCAAA;QACA,gCAAA;AACA;AAEA;QACA,4CAAA;QACA,oCAAA;AACA;AAEA;QACA,0CAAA;QACA,kCAAA;AACA;AACA;AAEA;IACA,eAAA;IACA,gBAAA;IACA,cAAA;IACA,kBAAA;IACA,OAAA;IACA,MAAA;IACA,SAAA;IACA,QAAA;IACA,YAAA;AACA;AAEA;IACA,kBAAA;IACA,QAAA;IACA,iBAAA;IACA,4BAAA;IACA,iBAAA;IACA,WAAA;IACA,YAAA;IACA,0BAAA;IACA,2BAAA;AAEA;AAEA;;IAEA,kBAAA;IACA,YAAA;IACA,aAAA;IACA,YAAA;IACA,MAAA;IACA,WAAA;IACA,uBAAA;AACA;AAEA;IACA,OAAA;AACA;AAEA;IACA,OAAA;IACA,iBAAA;IACA,yBAAA;AACA;AAEA;IACA,QAAA;AACA;AAEA;IACA,QAAA;IACA,kBAAA;IACA,yBAAA;AACA;AAEA;IACA,kBAAA;IACA,OAAA;IACA,SAAA;IACA,kBAAA;IACA,WAAA;IACA,WAAA;IACA,6BAAA;IACA,sBAAA;IACA,eAAA;IACA,YAAA;IACA,iBAAA;AACA;AAEA;AACA;;QAEA,YAAA;AACA;AAEA;QACA,iBAAA;AACA;AAEA;QACA,kBAAA;AACA;AACA",file:"vue-picture-preview.vue",sourcesContent:['<template>\n    <transition name="fade">\n        <div class="lg-preview-wrapper" v-show="preview.show" @click="leave" @touchmove.prevent>\n            <div class="lg-preview-loading" v-show="preview.loading"><div></div></div>\n            <img\n                class="lg-preview-img"\n                v-if="preview.current.src"\n                :src="preview.current.src"\n                :alt="preview.current.title"\n                v-show="!preview.loading"\n            >\n            <div class="lg-preview-title" v-if="preview.isTitleEnable&&preview.current.title" v-show="!preview.loading">\n                {{preview.current.title}}\n            </div>\n            <div class="lg-preview-nav-left" v-if="preview.isHorizontalNavEnable" v-show="!preview.loading">\n                <span class="lg-preview-nav-arrow" @click.stop="preAction" ></span>\n            </div>\n            <div class="lg-preview-nav-right" v-if="preview.isHorizontalNavEnable" v-show="!preview.loading">\n                <span class="lg-preview-nav-arrow" @click.stop="nextAction"></span>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\nexport default {\n    name: \'Preview\',\n    computed: {\n        preview () {\n            return window.LOGIC_EVENT_BUS.LOGIC_PREVIEW;\n        }\n    },\n    methods: {\n        leave (e) {\n            if ((this.preview.show)&&(e.target.className.indexOf(\'lg-preview-nav-arrow\') !== 0)){\n               this.close();\n            }\n        },\n        close () {\n            this.preview.show = false;\n        },\n        preAction () {\n            this.preview.loading = true;\n            var index = this.preview.list.indexOf(this.preview.current);\n            if (index === 0) {\n                this.preview.loading = false;\n                return;\n            }\n            index--;\n            this.preview.current = this.preview.list[index];\n            var img = new window.Image();\n            img.src = this.preview.current.src;\n            img.onload = function () {\n                setTimeout(function () {\n                    LOGIC_EVENT_BUS.LOGIC_PREVIEW.loading = false;\n                }, 500);\n            }\n        },\n        nextAction () {\n            this.preview.loading = true;\n            var index = this.preview.list.indexOf(this.preview.current);\n            if (index === this.preview.list.length - 1) {\n                this.preview.loading = false;\n                return;\n            }\n            index++;\n            this.preview.current = this.preview.list[index];\n            var img = new window.Image();\n            img.src = this.preview.current.src;\n            img.onload = function () {\n                setTimeout(function () {\n                    LOGIC_EVENT_BUS.LOGIC_PREVIEW.loading = false;\n                }, 500);\n            }\n        },\n    }\n}\n<\/script>\n\n<style scoped>\n.fade-enter-active, .fade-leave-active {\n    transition: opacity .5s\n}\n\n.fade-enter, .fade-leave-active {\n    opacity: 0\n}\n\n.lg-preview-wrapper {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    box-sizing: border-box;\n    background: rgba(0, 0, 0, 0.9);\n    z-index: 10000;\n}\n\n.lg-preview-loading {\n    position: absolute;\n    width: 30px;\n    height: 35px;\n    top: 50%;\n    left: 50%;\n    margin-top: -17.5px;\n    margin-left: -15px;\n}\n\n.lg-preview-loading > div {\n    display: inline-block;\n    height: 25px;\n    width: 25px;\n    background: transparent;\n    border-radius: 100%;\n    border: 2px solid #fff;\n    border-bottom-color: transparent;\n    -webkit-animation-fill-mode: both;\n    animation-fill-mode: both;\n    -webkit-animation: rotate 0.75s 0s linear infinite;\n    animation: rotate 0.75s 0s linear infinite;\n}\n\n@keyframes rotate {\n    0% {\n        -webkit-transform: rotate(0deg) scale(1);\n        transform: rotate(0deg) scale(1);\n    }\n\n    50% {\n        -webkit-transform: rotate(180deg) scale(0.6);\n        transform: rotate(180deg) scale(0.6);\n    }\n\n    100% {\n        -webkit-transform: rotate(360deg) scale(1);\n        transform: rotate(360deg) scale(1);\n    }\n}\n\n.lg-preview-img {\n    max-width: 100%;\n    max-height: 100%;\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    margin: auto;\n}\n\n.lg-preview-nav-arrow {\n    position: absolute;\n    top: 50%;\n    margin-top: -15px;\n    background: rgba(0, 0, 0, 0);\n    line-height: 40px;\n    width: 20px;\n    height: 20px;\n    border-top: 2px solid #fff;\n    border-left: 2px solid #fff;\n\n}\n\n.lg-preview-nav-left,\n.lg-preview-nav-right {\n    position: absolute;\n    height: 100%;\n    margin: 0 5px;\n    width: 200px;\n    top: 0;\n    color: #fff;\n    transition: opacity .2s;\n}\n\n.lg-preview-nav-left {\n    left: 0;\n}\n\n.lg-preview-nav-left .lg-preview-nav-arrow {\n    left: 0;\n    margin-left: 40px;\n    transform: rotate(-45deg);\n}\n\n.lg-preview-nav-right {\n    right: 0;\n}\n\n.lg-preview-nav-right .lg-preview-nav-arrow {\n    right: 0;\n    margin-right: 40px;\n    transform: rotate(135deg);\n}\n\n.lg-preview-title {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    text-align: center;\n    width: 100%;\n    color: #fff;\n    background: rgba(0, 0, 0, .5);\n    box-sizing: border-box;\n    font-size: 16px;\n    height: 40px;\n    line-height: 40px;\n}\n\n@media all and (max-width: 768px) {\n    .lg-preview-nav-left,\n    .lg-preview-nav-right {\n        width: 100px;\n    }\n\n    .lg-preview-nav-left .lg-preview-nav-arrow {\n        margin-left: 20px;\n    }\n\n    .lg-preview-nav-right .lg-preview-nav-arrow {\n        margin-right: 20px;\n    }\n}\n</style>\n']},media:void 0})},c=r({render:v,staticRenderFns:p},d,l,"data-v-f1c51966",!1,void 0,s,void 0);return{install:function(e,n){function i(e,n){var i=new window.Image;i.src=e,i.onload=function(){n.naturalHeight=i.naturalHeight,n.naturalWidth=i.naturalWidth,setTimeout(function(){t.LOGIC_PREVIEW.loading=!1},500)},i.error=function(e){console.error(e)}}var t=new e({data:function(){return{LOGIC_PREVIEW:{isTitleEnable:!0,isHorizontalNavEnable:!0,show:!1,loading:!0,current:{title:"",src:""},list:[]}}}});window.LOGIC_EVENT_BUS=t,e.component("lg-preview",c);var r=function(e){e.forEach(function(e,n){e.index=n+1})};e.directive("preview",{bind:function(e,n){var a={title:e.alt||"",el:e,index:0,src:n.value};t.LOGIC_PREVIEW.list.push(a),r(t.LOGIC_PREVIEW.list),e.addEventListener("click",function(n){n.stopPropagation(),t.LOGIC_PREVIEW.isTitleEnable="false"!=e.getAttribute("preview-title-enable"),t.LOGIC_PREVIEW.isHorizontalNavEnable="false"!=e.getAttribute("preview-nav-enable"),t.LOGIC_PREVIEW.show=!0,t.LOGIC_PREVIEW.loading=!0,t.LOGIC_PREVIEW.current=a,i(a.src,a)})},update:function(e,n){var i=t.LOGIC_PREVIEW.list.find(function(n){return n.el===e});i&&(i.src=n.value,i.title=e.alt)},unbind:function(e){e&&t.LOGIC_PREVIEW.list.forEach(function(n,i){e===n.el&&t.LOGIC_PREVIEW.list.splice(i,1)}),r(t.LOGIC_PREVIEW.list)}})}}}();
